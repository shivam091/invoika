= label_tag :selections, "", class: "form-label", data: {select_all_checkbox_target: "count"}
.table-responsive
  %table.table.table-striped.table-bordered
    %thead
      %tr
        %th{width: "25px", scope: "col"}#
        - if @invoices&.count > 0
          %th{width: "25px", scope: "col"}
            = check_box_tag "checkbox", nil, false, class: "form-check-input", data: {select_all_checkbox_target: "selectAllCheckbox"}
        %th{scope: "col"}= t(".client")
        %th{scope: "col"}= t(".code")
        %th{scope: "col"}= t(".invoice_date")
        %th{scope: "col"}= t(".due_date")
        %th{scope: "col"}= t(".status")
        %th{width: "25px", scope: "col"}= t(".actions")
    %tbody
      - if @invoices&.each.with_index(1) do |invoice, index|
        %tr
          %td.fw-bold
            = (@pagy.offset + index)
          %td
            = check_box_tag "invoice_ids[]", invoice.id, false, class: "form-check-input", data: {select_all_checkbox_target: "checkbox"}
          %td.fw-bold= invoice.client_full_name
          %td= invoice.code
          %td= invoice.invoice_date.to_fs(:long)
          %td= invoice.due_date.to_fs(:long)
          %td= enum_i18n(::Invoice, :statuses, invoice.status)
          %td.actions
            = link_to external_svg_tag("svgs/pencil.svg"), edit_invoice_path(invoice), class: "btn btn-sm btn-secondary"
            = link_to external_svg_tag("svgs/trash.svg"), invoice_path(invoice), class: "btn btn-sm btn-danger",
              data: {turbo_confirm: t(".delete_invoice_confirmation_text"), turbo_method: :delete}
      - end.empty?
        %tr
          %td.fw-bold{colspan: ::Invoice.columns.count}
            - if current_action?("paid")
              = t(".no_paid_invoices_to_display")
            - elsif current_action?("unpaid")
              = t(".no_unpaid_invoices_to_display")
            - elsif current_action?("draft")
              = t(".no_draft_invoices_to_display")
            - elsif current_action?("overdue")
              = t(".no_overdue_invoices_to_display")
            - else
              = t(".no_invoices_to_display")
